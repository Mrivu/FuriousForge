[gd_scene load_steps=17 format=3 uid="uid://cmhyhukkcj7u4"]

[ext_resource type="Script" path="res://Player.gd" id="1_44pia"]
[ext_resource type="Texture2D" uid="uid://qgk75alhwq56" path="res://Togglers/ChainOff.png" id="1_wujnq"]
[ext_resource type="Texture2D" uid="uid://loinx6732s10" path="res://Dwarf/DR.png" id="2_otrml"]
[ext_resource type="Texture2D" uid="uid://dadrujhqhm3et" path="res://Platforms.png" id="3_5ttku"]
[ext_resource type="Script" path="res://SpriteHandler.gd" id="3_xyc4c"]
[ext_resource type="Texture2D" uid="uid://toc30hxkb0qm" path="res://Buttons/W.png" id="5_j57su"]
[ext_resource type="Script" path="res://Tip.gd" id="5_yqobd"]
[ext_resource type="Texture2D" uid="uid://chjfvcx417bkw" path="res://BGFF.png" id="6_gue0n"]
[ext_resource type="Texture2D" uid="uid://bxor3kpcxfkpf" path="res://Forges/ForgeOff.png" id="7_ewwos"]
[ext_resource type="Script" path="res://Anvil.gd" id="8_jacyn"]
[ext_resource type="Script" path="res://BGTip.gd" id="10_spmmf"]
[ext_resource type="Script" path="res://StageText.gd" id="11_rb34s"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_irwb3"]
size = Vector2(64, 80)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4gmeo"]
size = Vector2(31, 30)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mwb2h"]
texture = ExtResource("3_5ttku")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:1/0 = 0
5:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:1/0/physics_layer_0/angular_velocity = 0.0
6:1/0 = 0
6:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:1/0/physics_layer_0/angular_velocity = 0.0
7:1/0 = 0
7:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:1/0/physics_layer_0/angular_velocity = 0.0
8:1/0 = 0
8:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:1/0/physics_layer_0/angular_velocity = 0.0
9:1/0 = 0
9:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
9:1/0/physics_layer_0/angular_velocity = 0.0
12:1/0 = 0
12:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
12:1/0/physics_layer_0/angular_velocity = 0.0
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
5:2/0 = 0
5:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:2/0/physics_layer_0/angular_velocity = 0.0
6:2/0 = 0
6:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:2/0/physics_layer_0/angular_velocity = 0.0
7:2/0 = 0
7:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:2/0/physics_layer_0/angular_velocity = 0.0
8:2/0 = 0
8:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:2/0/physics_layer_0/angular_velocity = 0.0
9:2/0 = 0
9:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
9:2/0/physics_layer_0/angular_velocity = 0.0
10:2/0 = 0
10:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
10:2/0/physics_layer_0/angular_velocity = 0.0
11:2/0 = 0
11:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
11:2/0/physics_layer_0/angular_velocity = 0.0
12:2/0 = 0
12:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
12:2/0/physics_layer_0/angular_velocity = 0.0
15:2/0 = 0
15:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
15:2/0/physics_layer_0/angular_velocity = 0.0
16:2/0 = 0
16:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
16:2/0/physics_layer_0/angular_velocity = 0.0
0:4/0 = 0
0:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:4/0/physics_layer_0/angular_velocity = 0.0
1:4/0 = 0
1:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:4/0/physics_layer_0/angular_velocity = 0.0
2:4/0 = 0
2:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:4/0/physics_layer_0/angular_velocity = 0.0
3:4/0 = 0
3:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:4/0/physics_layer_0/angular_velocity = 0.0
4:4/0 = 0
4:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:4/0/physics_layer_0/angular_velocity = 0.0
5:4/0 = 0
5:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:4/0/physics_layer_0/angular_velocity = 0.0
6:4/0 = 0
6:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:4/0/physics_layer_0/angular_velocity = 0.0
7:4/0 = 0
7:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:4/0/physics_layer_0/angular_velocity = 0.0
8:4/0 = 0
8:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
8:4/0/physics_layer_0/angular_velocity = 0.0
9:4/0 = 0
9:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
9:4/0/physics_layer_0/angular_velocity = 0.0
10:4/0 = 0
10:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
10:4/0/physics_layer_0/angular_velocity = 0.0
11:4/0 = 0
11:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
11:4/0/physics_layer_0/angular_velocity = 0.0
12:4/0 = 0
12:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
12:4/0/physics_layer_0/angular_velocity = 0.0
13:4/0 = 0
13:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
13:4/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_pqa6e"]
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_mwb2h")

[node name="Main" type="Node2D"]

[node name="ToggleArea" type="Area2D" parent="."]
z_index = -1
position = Vector2(327, 363)

[node name="Toggle" type="Sprite2D" parent="ToggleArea"]
z_index = 1
scale = Vector2(2, 2)
texture = ExtResource("1_wujnq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ToggleArea"]
position = Vector2(0, 7)
shape = SubResource("RectangleShape2D_irwb3")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(300, 0)
scale = Vector2(1.4, 1.4)
script = ExtResource("1_44pia")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(0.5, 1)
shape = SubResource("RectangleShape2D_4gmeo")

[node name="pSprite" type="Sprite2D" parent="Player"]
z_index = 2
texture = ExtResource("2_otrml")
script = ExtResource("3_xyc4c")

[node name="DrinkDuration" type="Timer" parent="Player"]

[node name="Tip" type="Sprite2D" parent="Player"]
z_index = 2
position = Vector2(0, -30)
scale = Vector2(0.25, 0.25)
texture = ExtResource("5_j57su")
script = ExtResource("5_yqobd")

[node name="Terrain" type="TileMap" parent="."]
scale = Vector2(2, 2)
tile_set = SubResource("TileSet_pqa6e")
format = 2
layer_0/tile_data = PackedInt32Array(917513, 0, 0, 917514, 196608, 0, 917515, 196608, 0, 917516, 196608, 0, 917517, 196608, 0, 917518, 196608, 0, 917519, 196608, 0, 917520, 196608, 0, 917521, 196608, 0, 917522, 196608, 0, 917523, 196608, 0, 917524, 196608, 0, 917525, 262144, 0)

[node name="DText" type="TextEdit" parent="."]
offset_left = 27.0
offset_top = 20.0
offset_right = 156.0
offset_bottom = 55.0
text = "Drunk : 0s"

[node name="AnvilArea" type="Area2D" parent="."]
z_index = -1
position = Vector2(637, 382)

[node name="Anvil" type="Sprite2D" parent="AnvilArea"]
z_index = 1
scale = Vector2(2, 2)
texture = ExtResource("7_ewwos")
script = ExtResource("8_jacyn")

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnvilArea"]
position = Vector2(-0.5, 23)
shape = SubResource("RectangleShape2D_irwb3")

[node name="Bgff" type="Sprite2D" parent="."]
visible = false
z_index = -3
position = Vector2(576, 324)
scale = Vector2(1.47692, 1.35)
texture = ExtResource("6_gue0n")

[node name="BGTip" type="RichTextLabel" parent="Bgff"]
offset_left = -201.094
offset_top = 189.63
offset_right = 250.906
offset_bottom = 229.63
text = "TIP: The FORGE isn't on yet, activate all components"
scroll_active = false
script = ExtResource("10_spmmf")

[node name="TipTimer" type="Timer" parent="Bgff/BGTip"]
wait_time = 2.0

[node name="StageText" type="TextEdit" parent="."]
offset_left = 27.0
offset_top = 58.0
offset_right = 112.0
offset_bottom = 94.0
text = "Stage - 0"
script = ExtResource("11_rb34s")

[connection signal="body_entered" from="ToggleArea" to="Player/Tip" method="_on_toggle_area_body_entered"]
[connection signal="body_exited" from="ToggleArea" to="Player/Tip" method="_on_toggle_area_body_exited"]
[connection signal="timeout" from="Player/DrinkDuration" to="Player" method="_on_drink_duration_timeout"]
[connection signal="body_entered" from="AnvilArea" to="Player/Tip" method="_on_anvil_area_body_entered"]
[connection signal="body_exited" from="AnvilArea" to="Player/Tip" method="_on_anvil_area_body_exited"]
[connection signal="timeout" from="Bgff/BGTip/TipTimer" to="Bgff/BGTip" method="_on_tip_timer_timeout"]
